var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function a(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function l(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function f(){return h(" ")}function p(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function d(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t,n){e.classList[n?"add":"remove"](t)}let g;function y(e){g=e}function k(e){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(e)}const b=[],j=[],w=[],C=[],E=Promise.resolve();let T=!1;function R(e){w.push(e)}let $=!1;const x=new Set;function S(){if(!$){$=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];y(t),_(t.$$)}for(y(null),b.length=0;j.length;)j.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];x.has(t)||(x.add(t),t())}w.length=0}while(b.length);for(;C.length;)C.pop()();T=!1,$=!1,x.clear()}}function _(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const O=new Set;function P(e,t){e&&e.i&&(O.delete(e),e.i(t))}function M(e,t){e.d(1),t.delete(e.key)}function A(e,t,n,i,o,s,r,u,c,a,l,h){let f=e.length,p=s.length,d=f;const m={};for(;d--;)m[e[d].key]=d;const v=[],g=new Map,y=new Map;for(d=p;d--;){const e=h(o,s,d),u=n(e);let c=r.get(u);c?i&&c.p(e,t):(c=a(u,e),c.c()),g.set(u,v[d]=c),u in m&&y.set(u,Math.abs(d-m[u]))}const k=new Set,b=new Set;function j(e){P(e,1),e.m(u,l),r.set(e.key,e),l=e.first,p--}for(;f&&p;){const t=v[p-1],n=e[f-1],i=t.key,o=n.key;t===n?(l=t.first,f--,p--):g.has(o)?!r.has(i)||k.has(i)?j(t):b.has(o)?f--:y.get(i)>y.get(o)?(b.add(i),j(t)):(k.add(o),f--):(c(n,r),f--)}for(;f--;){const t=e[f];g.has(t.key)||c(t,r)}for(;p;)j(v[p-1]);return v}function q(e,t){-1===e.$$.dirty[0]&&(b.push(e),T||(T=!0,E.then(S)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function L(s,r,u,a,l,h,f=[-1]){const p=g;y(s);const d=s.$$={fragment:null,ctx:null,props:h,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:r.context||[]),callbacks:n(),dirty:f,skip_bound:!1};let m=!1;if(d.ctx=u?u(s,r.props||{},((e,t,...n)=>{const i=n.length?n[0]:t;return d.ctx&&l(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),m&&q(s,e)),t})):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);d.fragment&&d.fragment.l(e),e.forEach(c)}else d.fragment&&d.fragment.c();r.intro&&P(s.$$.fragment),function(e,n,s,r){const{fragment:u,on_mount:c,on_destroy:a,after_update:l}=e.$$;u&&u.m(n,s),r||R((()=>{const n=c.map(t).filter(o);a?a.push(...n):i(n),e.$$.on_mount=[]})),l.forEach(R)}(s,r.target,r.anchor,r.customElement),S()}y(p)}var N,J=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=0,r=1,u=2,c=3,a="closed",l="errored",h="joined",f="joining",p="leaving",d="phx_close",m="phx_error",v="phx_join",g="phx_reply",y="phx_leave",k="longpoll",b="websocket",j=function(){function e(t,n,i,s){o(this,e),this.channel=t,this.event=n,this.payload=i||{},this.receivedResp=null,this.timeout=s,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return i(e,[{key:"resend",value:function(e){this.timeout=e,this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}},{key:"receive",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:"matchReceive",value:function(e){var t=e.status,n=e.response;e.ref,this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var e=this;this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout))}},{key:"hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:"trigger",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),w=t.Channel=function(){function e(t,n,i){var s=this;o(this,e),this.state=a,this.topic=t,this.params=n||{},this.socket=i,this.bindings=[],this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new j(this,v,this.params,this.timeout),this.pushBuffer=[],this.rejoinTimer=new T((function(){return s.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){s.state=h,s.rejoinTimer.reset(),s.pushBuffer.forEach((function(e){return e.send()})),s.pushBuffer=[]})),this.onClose((function(){s.rejoinTimer.reset(),s.socket.log("channel","close "+s.topic+" "+s.joinRef()),s.state=a,s.socket.remove(s)})),this.onError((function(e){s.isLeaving()||s.isClosed()||(s.socket.log("channel","error "+s.topic,e),s.state=l,s.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){s.isJoining()&&(s.socket.log("channel","timeout "+s.topic,s.joinPush.timeout),s.state=l,s.rejoinTimer.scheduleTimeout())})),this.on(g,(function(e,t){s.trigger(s.replyEventName(t),e)}))}return i(e,[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw"tried to join multiple times. 'join' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:"onClose",value:function(e){this.on(d,e)}},{key:"onError",value:function(e){this.on(m,(function(t){return e(t)}))}},{key:"on",value:function(e,t){this.bindings.push({event:e,callback:t})}},{key:"off",value:function(e){this.bindings=this.bindings.filter((function(t){return t.event!==e}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '"+e+"' to '"+this.topic+"' before joining. Use channel.join() before pushing events";var i=new j(this,e,t,n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:"leave",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=p;var n=function(){e.socket.log("channel","leave "+e.topic),e.trigger(d,"leave",e.joinRef())},i=new j(this,y,{},t);return i.receive("ok",(function(){return n()})).receive("timeout",(function(){return n()})),i.send(),this.canPush()||i.trigger("ok",{}),i}},{key:"onMessage",value:function(e,t,n){return t}},{key:"isMember",value:function(e){return this.topic===e}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"sendJoin",value:function(e){this.state=f,this.joinPush.resend(e)}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||this.sendJoin(e)}},{key:"trigger",value:function(e,t,n){if(!(n&&[d,m,y,v].indexOf(e)>=0&&n!==this.joinRef())){var i=this.onMessage(e,t,n);if(t&&!i)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((function(t){return t.event===e})).map((function(e){return e.callback(i,n)}))}}},{key:"replyEventName",value:function(e){return"chan_reply_"+e}},{key:"isClosed",value:function(){return this.state===a}},{key:"isErrored",value:function(){return this.state===l}},{key:"isJoined",value:function(){return this.state===h}},{key:"isJoining",value:function(){return this.state===f}},{key:"isLeaving",value:function(){return this.state===p}}]),e}();t.Socket=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||1e4,this.transport=i.transport||window.WebSocket||C,this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.reconnectAfterMs=i.reconnectAfterMs||function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.logger=i.logger||function(){},this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=i.params||{},this.endPoint=t+"/"+b,this.reconnectTimer=new T((function(){n.disconnect((function(){return n.connect()}))}),this.reconnectAfterMs)}return i(e,[{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var e=E.appendParams(E.appendParams(this.endPoint,this.params),{vsn:"1.0.0"});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?this.protocol()+":"+e:this.protocol()+"://"+location.host+e}},{key:"disconnect",value:function(e,t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n||""):this.conn.close(),this.conn=null),e&&e()}},{key:"connect",value:function(e){var t=this;e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=e),this.conn||(this.conn=new this.transport(this.endPointURL()),this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"onOpen",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:"onClose",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:"onError",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:"onMessage",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:"onConnOpen",value:function(){var e=this;this.log("transport","connected to "+this.endPointURL(),this.transport.prototype),this.flushSendBuffer(),this.reconnectTimer.reset(),this.conn.skipHeartbeat||(clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e.sendHeartbeat()}),this.heartbeatIntervalMs)),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"onConnClose",value:function(e){this.log("transport","close",e),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"onConnError",value:function(e){this.log("transport",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"triggerChanError",value:function(){this.channels.forEach((function(e){return e.trigger(m)}))}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case s:return"connecting";case r:return"open";case u:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new w(e,t,this);return this.channels.push(n),n}},{key:"push",value:function(e){var t=this,n=e.topic,i=e.event,o=e.payload,s=e.ref,r=function(){return t.conn.send(JSON.stringify(e))};this.log("push",n+" "+i+" ("+s+")",o),this.isConnected()?r():this.sendBuffer.push(r)}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"sendHeartbeat",value:function(){this.isConnected()&&this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.makeRef()})}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"onConnMessage",value:function(e){var t=JSON.parse(e.data),n=t.topic,i=t.event,o=t.payload,s=t.ref;this.log("receive",(o.status||"")+" "+n+" "+i+" "+(s&&"("+s+")"||""),o),this.channels.filter((function(e){return e.isMember(n)})).forEach((function(e){return e.trigger(i,o,s)})),this.stateChangeCallbacks.message.forEach((function(e){return e(t)}))}}]),e}();var C=t.LongPoll=function(){function e(t){o(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=s,this.poll()}return i(e,[{key:"normalizeEndpoint",value:function(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+b),"$1/"+k)}},{key:"endpointURL",value:function(){return E.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(){this.close(),this.readyState=s}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry()}},{key:"poll",value:function(){var e=this;this.readyState!==r&&this.readyState!==s||E.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),(function(t){if(t){var n=t.status,i=t.token,o=t.messages;e.token=i}else n=0;switch(n){case 200:o.forEach((function(t){return e.onmessage({data:JSON.stringify(t)})})),e.poll();break;case 204:e.poll();break;case 410:e.readyState=r,e.onopen(),e.poll();break;case 0:case 500:e.onerror(),e.closeAndRetry();break;default:throw"unhandled poll status "+n}}))}},{key:"send",value:function(e){var t=this;E.request("POST",this.endpointURL(),"application/json",e,this.timeout,this.onerror.bind(this,"timeout"),(function(e){e&&200===e.status||(t.onerror(status),t.closeAndRetry())}))}},{key:"close",value:function(e,t){this.readyState=c,this.onclose()}}]),e}(),E=t.Ajax=function(){function e(){o(this,e)}return i(e,null,[{key:"request",value:function(e,t,n,i,o,s,r){if(window.XDomainRequest){var u=new XDomainRequest;this.xdomainRequest(u,e,t,i,o,s,r)}else{var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");this.xhrRequest(c,e,t,n,i,o,s,r)}}},{key:"xdomainRequest",value:function(e,t,n,i,o,s,r){var u=this;e.timeout=o,e.open(t,n),e.onload=function(){var t=u.parseJSON(e.responseText);r&&r(t)},s&&(e.ontimeout=s),e.onprogress=function(){},e.send(i)}},{key:"xhrRequest",value:function(e,t,n,i,o,s,r,u){var c=this;e.timeout=s,e.open(t,n,!0),e.setRequestHeader("Content-Type",i),e.onerror=function(){u&&u(null)},e.onreadystatechange=function(){if(e.readyState===c.states.complete&&u){var t=c.parseJSON(e.responseText);u(t)}},r&&(e.ontimeout=r),e.send(o)}},{key:"parseJSON",value:function(e){return e&&""!==e?JSON.parse(e):null}},{key:"serialize",value:function(e,t){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var s=t?t+"["+o+"]":o,r=e[o];"object"===(void 0===r?"undefined":n(r))?i.push(this.serialize(r,s)):i.push(encodeURIComponent(s)+"="+encodeURIComponent(r))}return i.join("&")}},{key:"appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?";return""+e+n+this.serialize(t)}}]),e}();E.states={complete:4},t.Presence={syncState:function(e,t,n,i){var o=this,s=this.clone(e),r={},u={};return this.map(s,(function(e,n){t[e]||(u[e]=n)})),this.map(t,(function(e,t){var n=s[e];if(n){var i=t.metas.map((function(e){return e.phx_ref})),c=n.metas.map((function(e){return e.phx_ref})),a=t.metas.filter((function(e){return c.indexOf(e.phx_ref)<0})),l=n.metas.filter((function(e){return i.indexOf(e.phx_ref)<0}));a.length>0&&(r[e]=t,r[e].metas=a),l.length>0&&(u[e]=o.clone(n),u[e].metas=l)}else r[e]=t})),this.syncDiff(s,{joins:r,leaves:u},n,i)},syncDiff:function(e,t,n,i){var o=t.joins,s=t.leaves,r=this.clone(e);return n||(n=function(){}),i||(i=function(){}),this.map(o,(function(e,t){var i,o=r[e];r[e]=t,o&&(i=r[e].metas).unshift.apply(i,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.metas)),n(e,o,t)})),this.map(s,(function(e,t){var n=r[e];if(n){var o=t.metas.map((function(e){return e.phx_ref}));n.metas=n.metas.filter((function(e){return o.indexOf(e.phx_ref)<0})),i(e,n,t),0===n.metas.length&&delete r[e]}})),r},list:function(e,t){return t||(t=function(e,t){return t}),this.map(e,(function(e,n){return t(e,n)}))},map:function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return t(n,e[n])}))},clone:function(e){return JSON.parse(JSON.stringify(e))}};var T=function(){function e(t,n){o(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return i(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}()}(N={exports:{}},N.exports),N.exports);function B(e,t,n){const i=e.slice();return i[11]=t[n],i[13]=n,i}function U(e,t,n){const i=e.slice();return i[2]=t[n],i}function H(e,t,n){const i=e.slice();return i[2]=t[n],i}function I(e,t,n){const i=e.slice();return i[18]=t[n],i}function z(e){let t,n,i,o,s,h,m,v,g,y,k,b,j=[],w=new Map,C=e[1],E=[];for(let t=0;t<C.length;t+=1)E[t]=D(I(e,C,t));let T=e[2];const R=e=>e[2];for(let t=0;t<T.length;t+=1){let n=H(e,T,t),i=R(n);w.set(i,j[t]=F(i,n))}let $=e[4],x=[];for(let t=0;t<$.length;t+=1)x[t]=W(B(e,$,t));return{c(){t=l("div"),n=l("button"),n.textContent="DELETE",i=f();for(let e=0;e<E.length;e+=1)E[e].c();o=f(),s=l("div"),h=l("table"),m=l("thead"),v=l("tr");for(let e=0;e<j.length;e+=1)j[e].c();g=f(),y=l("tbody");for(let e=0;e<x.length;e+=1)x[e].c();d(n,"id","del"),d(n,"class","svelte-86u5bs"),d(t,"class","buttons svelte-86u5bs"),d(v,"class","svelte-86u5bs"),d(h,"class","svelte-86u5bs"),d(s,"class","container")},m(c,a){u(c,t,a),r(t,n),r(t,i);for(let e=0;e<E.length;e+=1)E[e].m(t,null);u(c,o,a),u(c,s,a),r(s,h),r(h,m),r(m,v);for(let e=0;e<j.length;e+=1)j[e].m(v,null);r(h,g),r(h,y);for(let e=0;e<x.length;e+=1)x[e].m(y,null);k||(b=p(n,"click",e[6]),k=!0)},p(e,n){if(2&n){let i;for(C=e[1],i=0;i<C.length;i+=1){const o=I(e,C,i);E[i]?E[i].p(o,n):(E[i]=D(o),E[i].c(),E[i].m(t,null))}for(;i<E.length;i+=1)E[i].d(1);E.length=C.length}if(6&n&&(T=e[2],j=A(j,n,R,1,e,T,w,v,M,F,null,H)),28&n){let t;for($=e[4],t=0;t<$.length;t+=1){const i=B(e,$,t);x[t]?x[t].p(i,n):(x[t]=W(i),x[t].c(),x[t].m(y,null))}for(;t<x.length;t+=1)x[t].d(1);x.length=$.length}},d(e){e&&c(t),a(E,e),e&&c(o),e&&c(s);for(let e=0;e<j.length;e+=1)j[e].d();a(x,e),k=!1,b()}}}function X(t){let n;return{c(){n=l("div"),n.textContent="No requests so far..."},m(e,t){u(e,n,t)},p:e,d(e){e&&c(n)}}}function D(e){let t,n,i,o,s=e[18]+"";function a(){return e[7](e[18])}return{c(){t=l("button"),n=h(s),d(t,"class","svelte-86u5bs")},m(e,s){u(e,t,s),r(t,n),i||(o=p(t,"click",a),i=!0)},p(t,i){e=t,2&i&&s!==(s=e[18]+"")&&m(n,s)},d(e){e&&c(t),i=!1,o()}}}function F(e,t){let n,i,o,s,a=t[2]+"";function f(){return t[8](t[2])}return{key:e,first:null,c(){n=l("th"),i=h(a),d(n,"class","svelte-86u5bs"),this.first=n},m(e,t){u(e,n,t),r(n,i),o||(s=p(n,"click",f),o=!0)},p(e,n){t=e,4&n&&a!==(a=t[2]+"")&&m(i,a)},d(e){e&&c(n),o=!1,s()}}}function G(e,t){let n,i,o=t[11][t[2]]+"";return{key:e,first:null,c(){n=l("td"),i=h(o),d(n,"class","svelte-86u5bs"),v(n,"isnew",t[3]>t[13]),this.first=n},m(e,t){u(e,n,t),r(n,i)},p(e,s){t=e,20&s&&o!==(o=t[11][t[2]]+"")&&m(i,o),8&s&&v(n,"isnew",t[3]>t[13])},d(e){e&&c(n)}}}function W(e){let t,n,i=[],o=new Map,s=e[2];const a=e=>e[2];for(let t=0;t<s.length;t+=1){let n=U(e,s,t),r=a(n);o.set(r,i[t]=G(r,n))}return{c(){t=l("tr");for(let e=0;e<i.length;e+=1)i[e].c();n=f(),d(t,"class","svelte-86u5bs")},m(e,o){u(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);r(t,n)},p(e,r){28&r&&(s=e[2],i=A(i,r,a,1,e,s,o,t,M,G,n,U))},d(e){e&&c(t);for(let e=0;e<i.length;e+=1)i[e].d()}}}function K(t){let n;function i(e,t){return 0===e[0].length?X:z}let o=i(t),s=o(t);return{c(){n=l("body"),s.c()},m(e,t){u(e,n,t),s.m(n,null)},p(e,[t]){o===(o=i(e))&&s?s.p(e,t):(s.d(1),s=o(e),s&&(s.c(),s.m(n,null)))},i:e,o:e,d(e){e&&c(n),s.d()}}}function Q(e,t,n){let i,o;const s=async e=>{let t="http://localhost:4000/requests/json";e&&(t+="?action=delete");return(await fetch(t)).json()};let r,u,c=0,a=[],l=[];k((()=>{r=new J.Socket("ws://127.0.0.1:4000/socket"),r.connect(),u=r.channel("requests:lobby",{}),u.join().receive("ok",(()=>{s().then((e=>n(0,a=e)))})).receive("error",(()=>{console.log("Unable to join")})),u.on("new_request",(e=>{n(3,c++,c),n(0,a=[e,...a]),setTimeout((()=>{n(3,c--,c)}),2e3)})),u.on("delete_request",(()=>n(0,a=[])))}));return e.$$.update=()=>{3&e.$$.dirty&&n(2,i=(()=>{let e=[];return a.forEach((t=>Object.keys(t).forEach((t=>e.push(t))))),e=[...new Set(e)],e=e.filter((e=>!l.includes(e))),e.sort()})()),5&e.$$.dirty&&n(4,o=(()=>{let e=[];return a.forEach((t=>{const n={};i.forEach((e=>{n[e]=t.hasOwnProperty(e)?t[e]:""})),e.push(n)})),e})())},[a,l,i,c,o,s,()=>s(!0),e=>n(1,l=l.filter((t=>t!==e))),e=>{n(1,l=[...l,e])}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),L(this,e,Q,K,s,{})}}({target:document.body,props:{}})}();
