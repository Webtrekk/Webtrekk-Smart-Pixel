(function(){var k="function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,c){d!=Array.prototype&&d!=Object.prototype&&(d[a]=c.value)},m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function n(d,a){if(a){for(var c=m,g=d.split("."),f=0;f<g.length-1;f++){var e=g[f];e in c||(c[e]={});c=c[e]}g=g[g.length-1];f=c[g];e=a(f);e!=f&&null!=e&&k(c,g,{configurable:!0,writable:!0,value:e})}}
n("Object.is",function(d){return d?d:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});n("Array.prototype.includes",function(d){return d?d:function(a,c){var d=this;d instanceof String&&(d=String(d));var f=d.length,e=c||0;for(0>e&&(e=Math.max(e+f,0));e<f;e++){var h=d[e];if(h===a||Object.is(h,a))return!0}return!1}});
n("String.prototype.includes",function(d){return d?d:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(a,c||0)}});
function p(d,a,c,g){function f(a,c){c=void 0===c?l():c;var d=b.b.isMuted()?"mute":"unMute";b.g[d]();b.g.setVolume(Math.floor(b.b.getVolume()));"end"===a&&(c=b.duration);b.g[a](c,e(a))}function e(a){if(b.a.action)switch(typeof b.a.action){case "object":return b.a.action;case "function":return b.a.action(b.b,a)}}function h(){if(b.s)return b.s;if(b.a.title){var a=b.a.title;if("string"===typeof a&&0<a.length||"function"===typeof a&&(a=a(b.b),"string"===typeof a&&0<a.length))return a}return b.b.getVideoData().title}
function l(){return Math.floor(b.b.getCurrentTime())}function r(){var a=b.element.getAttributeNames().filter(function(b){return b.includes("data-category")});0<a.length&&(b.l={},a.forEach(function(a){var c=Number(a.replace("data-category",""));b.l[c]=b.element.getAttribute(a)}))}var b=this;b.A=function(a){if(g.extension.youtube.isActivated()&&-1<a.data&&3>a.data){b.c={i:l()};b.hasOwnProperty("duration")||(b.duration=Math.ceil(b.b.getDuration()),b.g=new g.extension.media.MediaSession(h()),b.g.setTotalTime(b.duration),
b.g.setCategory(b.l?b.l:"function"===typeof b.a.categories?b.a.categories(b.b):b.a.categories));clearInterval(b.j);switch(a.data){case 1:b.c.o="play";b.j=setInterval(function(){b.element?(b.h.i=l(),f("position")):b.remove()},1E3);b.h&&0!==Math.abs(b.c.i-b.h.i)&&f("seek",b.h.i);break;case 2:b.c.o="pause";break;case 0:b.c.o="end"}f(b.c.o);b.h=b.c;self.c={}}};b.remove=function(){b.j&&clearInterval(b.j)};(function(){b.element=d;b.a=c;b.j=!1;d.id?b.id=d.id:(b.id="mapp_yt_"+a,d.id=b.id);d.id=b.id;var f=
d.src.includes("?")?"&":"?";d.src.includes("enablejsapi=1")||(d.src+=f+"enablejsapi=1");b.b=window.YT.get(b.id);b.b||(b.b=new window.YT.Player(b.id));b.s=b.element.getAttribute("data-title");r();b.b.addEventListener("onStateChange",b.A)})()};function q(d){var a=this;a.m=function(){if(window.hasOwnProperty("YT")&&window.YT.hasOwnProperty("get")){var c=a.w();a.u(c);a.B()}else setTimeout(function(){a.m()},500)};a.C=function(c){a.a=c;a.f.forEach(function(a,d,e){a&&(e[d].a=c)})};a.v=function(){a.f.forEach(function(a){a.remove()})};a.w=function(){return Array.prototype.slice.call(document.getElementsByTagName("iframe")).filter(function(a){return a.src.includes("https://www.youtube.com/embed/")})};a.u=function(c){var g=a.f.map(function(a){return a.id});
c.filter(function(a){return!a.id||!g.includes(a.id)}).forEach(function(c){c=new p(c,a.f.length.toString(),a.a,d);a.f.push(c)})};a.B=function(){a.f.forEach(function(a,d,f){document.getElementById(a.id)||(a.remove(),f[d]=null)})};a.a={};a.f=[]};function t(d){d.extension.push(function(){function a(a){"object"===typeof a&&g.C(a)}var c=!1,g=new q(d);if(!window.hasOwnProperty("YT")){var f=document.createElement("script");f.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(f,e)}return{name:"youtube",version:"1.0.0",config:a,trigger:function(a){c&&"media"===a.mode&&"before"===a.type&&(a.data={pp:"1"})},isActivated:function(){return c},activate:function(d){c||(c=!0,a(d),g.m())},
deactivate:function(){c&&(c=!1,g.v())},install:g.m,__v:g.f}})}var u="undefined"!==typeof module&&module.exports;"function"===typeof define&&define.amd?define("wtSmartYoutube",t):u?module.exports=t:(this.wtSmart=this.wtSmart||[],this.wtSmart.push(t));})();
